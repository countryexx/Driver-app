<ion-header>
  <ion-toolbar color="light">
    <ion-buttons slot="end">
      
      <ion-button color="dark" (click)="dismiss()"><ion-icon name="close-outline"></ion-icon></ion-button>
      <!--<ion-back-button (click)="dismiss()"></ion-back-button>
      <ion-back-button defaultHref="/menu/main"></ion-back-button>-->
      
    </ion-buttons>
    <ion-title>Lista de Usuarios ESC <ion-icon name="qr-code-outline"></ion-icon></ion-title>

  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div *ngFor="let item of data" style="margin-top: 15px;">
    <ion-card color="medium">

      <ion-fab vertical="top" horizontal="end">
        
        <ion-icon *ngIf="item.estado_ruta!=null" style="font-size: 30px; color: greenyellow" name="checkmark-done-outline"></ion-icon>
        <ion-icon *ngIf="item.estado_ruta===null" style="font-size: 30px; color: rgb(250, 74, 74)" name="close-outline"></ion-icon>

        <!--<span *ngIf="item.estado_ruta!=null" style="padding: 5px; background-color: green;"><ion-icon name="checkmark-done-outline"></ion-icon></span>
        <span *ngIf="item.estado_ruta===null" style="padding: 5px; background-color: red;"><ion-icon name="close-outline"></ion-icon></span>-->

        <!--<ion-fab-button *ngIf="item.estado_ruta!=null" size="small" color="success"><ion-icon name="checkmark-done-outline"></ion-icon></ion-fab-button>
        <ion-fab-button *ngIf="item.estado_ruta===null" size="small" color="danger"><ion-icon name="close-outline"></ion-icon></ion-fab-button>-->
      </ion-fab>

      <ion-card-header>
        <ion-card-title ><ion-icon style="font-size: 30px; float: right;" color="{{item.color}}" name="{{item.icon}}"></ion-icon></ion-card-title>
          <ion-card-subtitle *ngIf="item.nombre_estudiante!=null">{{item.nombre_estudiante}} </ion-card-subtitle>
      </ion-card-header>
    
      <ion-card-content>

        <ion-card>

          <ion-item class="ion-activated">
            <ion-icon name="location-outline" slot="start"></ion-icon>
            <h6>{{item.direccion}}</h6>
          </ion-item>

          <ion-item class="ion-activated" *ngIf="item.barrio!='' && item.barrio!=null">
            <ion-icon name="pin-outline" slot="start"></ion-icon>
            <h6>{{item.barrio}}</h6>
          </ion-item>

          <ion-item class="ion-activated" *ngIf="item.localidad!='' && item.localidad!=null">
            <ion-icon name="locate-outline" slot="start"></ion-icon>
            <h6>{{item.localidad}}</h6>
          </ion-item>
        
          <ion-item class="ion-activated">
            <ion-icon name="call-outline" slot="start"></ion-icon>
            <h6 *ngIf="item.telefono!=''">{{item.telefono}}</h6>
          </ion-item>
          <ion-row>
            <ion-col size="6">
              <ion-button [disabled]="item.telefono===''" href="tel:+57 {{item.telefono}}" type="button" expand="block" color="warning">
                <ion-icon color="light" name="call-outline" slot="start"></ion-icon>
              </ion-button>
            </ion-col>
            <ion-col size="6">
              <ion-button [disabled]="item.novedad_c!=null || item.estado_ruta != null" (click)="presentActionSheet(item.usuario, item.servicio_id)" type="button" expand="block" color="success">
                NOVEDAD <ion-icon slot="end" name="add-outline"></ion-icon>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-card>

        <ion-footer>
          <ion-toolbar color="light">
            <ion-title *ngIf="item.novedad_p!=null" class="texto">{{item.novedad_p}} <ion-icon color="success" name="create-outline"></ion-icon></ion-title>
            <ion-title *ngIf="item.novedad_p===null" class="texto">SN <ion-icon color="success" name="checkmark-done-outline"></ion-icon></ion-title>
            <ion-title *ngIf="item.status===3" class="texto">No Registrado! <ion-icon color="warning" name="warning-outline"></ion-icon></ion-title>
            <ion-title *ngIf="item.status===null" class="texto">No Le√≠do! <ion-icon style="font-size: 25px;" color="danger" name="close-circle-outline"></ion-icon></ion-title>
          </ion-toolbar>
        </ion-footer>
        
      </ion-card-content>

    </ion-card>
  </div>
</ion-content>
